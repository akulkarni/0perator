name: API Backend
desc: Express API with database, authentication, and Swagger docs
inputs:
  name: string = my-api
  db: postgres|sqlite = postgres

steps:
  # Start database first (takes longer to provision)
  - setup_{{db}}_free name={{name}}_db
  # Create API while database provisions
  - create_express_api name={{name}}
  - add_jwt_middleware
  - add_swagger_docs
  - create_dockerfile type=node